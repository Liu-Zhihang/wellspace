# React应用调试指南

## 问题诊断

您反映看不到控制按钮，可能的原因：

### 1. 开发服务器状态
- ✅ 开发服务器正在运行 (端口 5173)
- ✅ CleanShadowMap组件已正确导入和配置

### 2. 可能的问题

#### A. 浏览器缓存问题
```bash
# 清除浏览器缓存并强制刷新
Ctrl + Shift + R (Windows)
Cmd + Shift + R (Mac)
```

#### B. 组件渲染问题
- 检查浏览器开发者工具的控制台是否有JavaScript错误
- 检查Network标签页是否有资源加载失败

#### C. CSS样式问题
- 按钮可能被其他元素遮挡
- z-index层级问题

### 3. 调试步骤

#### 步骤1: 检查组件是否加载
1. 打开浏览器开发者工具 (F12)
2. 在Console中查看是否有错误信息
3. 检查是否有"CleanShadowMap组件已加载"的日志

#### 步骤2: 检查元素渲染
1. 在Elements标签页中搜索 "测试TUM连接"
2. 如果找不到，说明组件没有正确渲染

#### 步骤3: 检查网络请求
1. 在Network标签页中查看是否有失败的请求
2. 特别关注mapbox-gl和阴影模拟器库的加载

### 4. 临时解决方案

如果问题持续存在，可以尝试：

#### 方案A: 直接使用测试页面
- 打开 `shadow-calculator-test.html`
- 这个页面已经确认可以正常工作

#### 方案B: 强制刷新React应用
- 访问 `http://localhost:5173`
- 清除浏览器缓存后重新访问

#### 方案C: 检查组件导入
- 确认App.tsx中CleanShadowMap组件被正确导入
- 确认默认模式设置为'clean'

### 5. 预期看到的界面

如果一切正常，您应该看到：

1. **顶部标题栏**: 显示"Clean 3D"模式
2. **右上角控制按钮**:
   - 🔍 测试TUM连接 (蓝色)
   - 🏢 加载建筑物 (绿色)
   - 🌅 初始化阴影模拟器 (紫色)
   - 时间控制面板
3. **左下角状态面板**:
   - 状态信息
   - 操作指南

### 6. 联系信息

如果问题仍然存在，请提供：
- 浏览器控制台的错误信息
- 当前显示的界面截图
- 使用的浏览器版本
