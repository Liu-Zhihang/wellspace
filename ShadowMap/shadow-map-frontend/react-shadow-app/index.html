<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Shadow Map Analysis Suite</title>
    <!-- Leaflet CSS -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <!-- Mapbox GL CSS -->
    <link href='https://api.mapbox.com/mapbox-gl-js/v2.15.0/mapbox-gl.css' rel='stylesheet' />
  </head>
  <body>
    <div id="root"></div>
    <!-- Leaflet runtime -->
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <!-- Mapbox GL runtime -->
    <script src='https://api.mapbox.com/mapbox-gl-js/v2.15.0/mapbox-gl.js'></script>
    <!-- SunCalc runtime -->
    <script src="https://unpkg.com/suncalc@1.9.0/suncalc.js"></script>
    <!-- Mapbox shadow simulator -->
    <script src="https://unpkg.com/mapbox-gl-shadow-simulator/dist/mapbox-gl-shadow-simulator.umd.min.js"></script>
    <script>
      // Diagnostics
      window.addEventListener('load', function() {
        setTimeout(() => {
          console.log('Page ready, verifying external libraries:');
          console.log('Leaflet:', typeof L !== 'undefined' ? 'loaded' : 'missing');
          console.log('Mapbox GL:', typeof mapboxgl !== 'undefined' ? 'loaded' : 'missing');
          console.log('SunCalc:', typeof SunCalc !== 'undefined' ? 'loaded' : 'missing');
          console.log('Leaflet Shadow Simulator:', typeof L !== 'undefined' && L.shadeMap ? 'loaded' : 'missing');
          console.log('Mapbox Shadow Simulator:', typeof ShadeMap !== 'undefined' ? 'loaded' : 'missing');
          
          if (typeof L !== 'undefined') {
            console.log('L.shadeMap function:', L.shadeMap || 'undefined');
            
            if (L.shadeMap) {
              console.log('✅ Shadow simulator ready');
            } else {
              console.log('❌ Shadow simulator not available');
            }
          }
        }, 2000); // Give React components time to mount
      });
    </script>
    <script type="module" src="/src/main.tsx"></script>
  </body>
</html>
